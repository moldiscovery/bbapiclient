# Minimal Oauth client to interact with BitBucket rest api

This script was almost copied from [ayush-sharma DevOps tools](https://github.com/ayush-sharma/infra_helpers)

## Requirements:

 - Python >= 3 
 - requests 
 - requests-oauthlib

## installation (I suggest to setup a virtualenv)

```
pip install -r requirements.txt 
```

## Usage

 - Go to your Bitcket account settings -> OAuth -> Add Consumer 

Set 

 - Repositories = Read
 - Callback URL = https://localhost 
 - This is a Private consumer = True

Once created take the account_id, key and secret and set the following variables in your environment:

```
 - BB_ACCOUNT_ID
 - BB_OAUTH_ID
 - BB_OAUTH_SECRET
```

Now run the script: 

	$ python repos_report.py 

 - Browse the URL in your browser
 - copy the url generated by the BB 2FA from the navigation bar and feed the script with it


at the end CSV file named "repos.csv" will be created  
